{"remainingRequest":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/thread-loader/dist/cjs.js!/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/babel-loader/lib/index.js!/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/eslint-loader/index.js??ref--13-0!/Users/sumansaurav/Desktop/bhaikacms/UI/src/views/js/program.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/src/views/js/program.js","mtime":1565006530413},{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { mapActions } from 'vuex';\nexport default {\n  name: 'Program',\n  data: function data() {\n    return {\n      program: {\n        type: \"\",\n        name: \"\",\n        description: \"\",\n        keywords: \"\",\n        parentalRating: \"\",\n        languages: \"\",\n        startDate: \"\",\n        expiryDate: \"\",\n        category: {\n          id: \"1\"\n        },\n        imgUrls: {\n          thumbnail: \"\",\n          avatar: \"\"\n        },\n        userId: null\n      }\n    };\n  },\n  methods: _objectSpread({}, mapActions(['addProgram', 'imageUpload']), {\n    init: function init() {\n      if (this.$route.params.name == \"singleVideo\") {\n        this.program.type = \"Single video program\";\n      } else if (this.$route.params.name == \"multiVideo\") {\n        this.program.type = \"Multi video program\";\n      } else {\n        this.program.type = \"Seasonal video program\";\n      }\n    },\n    handleSubmit: function handleSubmit() {\n      var _this = this;\n\n      //change date to long\n      this.program.startDate = this.convertDateToLong(new Date(this.program.startDate));\n      this.program.expiryDate = this.convertDateToLong(new Date(this.program.expiryDate));\n      this.program.userId = this.$session.get('userId'); //adding program to database \n\n      this.addProgram(this.program).then(function (resp) {\n        _this.$swal('', 'Successfully added', 'success');\n\n        if (_this.$route.params.name == \"singleVideo\") {\n          _this.$router.push('/singleVideoForm');\n        }\n\n        if (_this.$route.params.name == \"multiVideo\") {\n          _this.$router.push('/multiVideoForm');\n        }\n\n        if (_this.$route.params.name == \"seasonalVideo\") {\n          _this.$router.push('/seasonalVideoForm');\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    convertDateToLong: function convertDateToLong(date) {\n      return date.getTime();\n    },\n    processFile: function processFile(event, type) {\n      var _this2 = this;\n\n      if (type == 'Thumbnail') {\n        var formData = new FormData();\n        formData.append('image', event.target.files[0]);\n        formData.append('type', 'Thumbnail');\n        this.imageUpload(formData).then(function (resp) {\n          if (resp.uploadLink == \"\") {\n            _this2.program.imgUrls.thumbnail = resp.uploadLink;\n          } else {\n            _this2.$swal('File type not supported');\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      } else {\n        var _formData = new FormData();\n\n        _formData.append('image', event.target.files[0]);\n\n        _formData.append('type', 'avatar');\n\n        this.imageUpload(_formData).then(function (resp) {\n          if (resp.uploadLink) {\n            _this2.program.imgUrls.avatar = resp.uploadLink;\n          } else {\n            _this2.$swal('File type not supported');\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }\n    }\n  }),\n  mounted: function mounted() {\n    this.init();\n  }\n};",{"version":3,"sources":["/Users/sumansaurav/Desktop/bhaikacms/UI/src/views/js/program.js"],"names":["mapActions","name","data","program","type","description","keywords","parentalRating","languages","startDate","expiryDate","category","id","imgUrls","thumbnail","avatar","userId","methods","init","$route","params","handleSubmit","convertDateToLong","Date","$session","get","addProgram","then","resp","$swal","$router","push","catch","err","console","log","date","getTime","processFile","event","formData","FormData","append","target","files","imageUpload","uploadLink","mounted"],"mappings":"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","sourcesContent":["import { mapActions } from 'vuex';\nexport default {\n    name:'Program',\n    data() {\n        return {\n            program: {\n                type:\"\",\n                name:\"\",\n                description:\"\",\n                keywords:\"\",\n                parentalRating:\"\",\n                languages:\"\",\n                startDate:\"\",\n                expiryDate:\"\",\n                category: {\n                  id: \"1\",\n                },\n                imgUrls: {\n                    thumbnail: \"\",\n                    avatar: \"\",\n                },\n                userId:null\n            }\n        }\n    },\n    methods: {\n        ...mapActions([\n            'addProgram',\n            'imageUpload'\n        ]),\n        init() {\n            if (this.$route.params.name == \"singleVideo\") {\n                this.program.type = \"Single video program\"\n            }\n            else if (this.$route.params.name == \"multiVideo\") {\n                this.program.type = \"Multi video program\"\n            }\n            else {\n                this.program.type = \"Seasonal video program\"\n            }\n        },\n        handleSubmit() {\n            //change date to long\n            this.program.startDate = this.convertDateToLong(new Date(this.program.startDate))\n            this.program.expiryDate = this.convertDateToLong(new Date(this.program.expiryDate))\n            this.program.userId = this.$session.get('userId')\n             \n            //adding program to database \n            this.addProgram(this.program).then( (resp) => {\n                this.$swal('','Successfully added','success')\n                if (this.$route.params.name == \"singleVideo\") {\n                    this.$router.push('/singleVideoForm')\n                }\n                if (this.$route.params.name == \"multiVideo\") {\n                    this.$router.push('/multiVideoForm')\n                }\n                if (this.$route.params.name == \"seasonalVideo\") {\n                    this.$router.push('/seasonalVideoForm')\n                }\n            }).catch( (err) => {\n                console.log(err)\n            })\n\n        },\n        convertDateToLong(date) {\n            return date.getTime()\n        },\n        processFile(event,type) {\n            if (type=='Thumbnail') {\n                let formData = new FormData()\n                formData.append('image', event.target.files[0])\n                formData.append('type','Thumbnail')\n                this.imageUpload(formData).then( (resp) => {\n                    if(resp.uploadLink==\"\") {\n                        this.program.imgUrls.thumbnail = resp.uploadLink\n                    } else {\n                        this.$swal('File type not supported')\n                    }\n                }).catch( (err) => {\n                    console.log(err)\n                })\n            } else {\n                let formData = new FormData()\n                formData.append('image', event.target.files[0])\n                formData.append('type','avatar')\n                this.imageUpload(formData).then( (resp) => {\n                    if(resp.uploadLink) {\n                        this.program.imgUrls.avatar = resp.uploadLink\n                    } else {\n                        this.$swal('File type not supported')\n                    }\n                }).catch( (err) => {\n                    console.log(err)\n                })\n            }\n             \n        }\n\n    },\n    mounted() {\n        this.init()\n    }\n    \n}"]}]}