{"remainingRequest":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/babel-loader/lib/index.js!/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/eslint-loader/index.js??ref--13-0!/Users/sumansaurav/Desktop/bhaikacms/UI/src/views/js/audit.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/src/views/js/audit.js","mtime":1565136929830},{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'Audit',\n  computed: _objectSpread({}, mapGetters(['allAudits'])),\n  data: function data() {\n    return {\n      page: {\n        startDate: null,\n        endDate: null,\n        pageNumber: 0,\n        pageSize: 5,\n        userId: null,\n        sortBy: null,\n        sortOrder: 1\n      },\n      prevSort: null,\n      currentPage: 1,\n      startDate: \"\",\n      endDate: \"\",\n      report: {\n        startDate: \"\",\n        endDate: \"\"\n      }\n    };\n  },\n  methods: _objectSpread({}, mapActions(['getAllAudits', 'getReport']), {\n    init: function init() {\n      if (this.$session.get('roleId') === 0) {\n        this.$router.push('/');\n      }\n\n      this.getAllAudits(this.page);\n    },\n    changeDate: function changeDate(date) {\n      var d = new Date(date);\n      return d.toDateString() + \", \" + d.getHours() + \":\" + d.getMinutes() + \":\" + d.getSeconds();\n    },\n    prvPage: function prvPage() {\n      if (this.page.pageNumber != 0) {\n        this.page.pageNumber = this.page.pageNumber - 1;\n        if (this.currentPage != 0) this.currentPage = this.currentPage - 1;\n        this.page.size = 5;\n        this.getAllAudits(this.page);\n      }\n    },\n    nextPage: function nextPage() {\n      if (!this.allAudits.last) {\n        this.page.pageNumber = this.page.pageNumber + 1;\n        this.currentPage = this.currentPage + 1;\n        this.page.size = 5;\n        this.getAllAudits(this.page);\n      }\n    },\n    sort: function sort(value) {\n      if (this.prevSort == value) {\n        this.page.sortOrder = this.page.sortOrder == 0 ? 1 : 0;\n      } else {\n        this.page.sortBy = value;\n        this.page.sortOrder = 1;\n      }\n\n      this.prevSort = value;\n      this.getAllAudits(this.page);\n    },\n    renderPage: function renderPage() {\n      this.page.pageNumber = this.currentPage - 1;\n      this.getAllAudits(this.page);\n    },\n    handleExport: function handleExport() {\n      this.startDate = this.convertDateToLong(new Date(this.startDate));\n      this.endDate = this.convertDateToLong(new Date(this.endDate)); //\n\n      this.report.startDate = this.startDate;\n      this.report.endDate = this.endDate;\n      this.getReport(this.report).then(function (resp) {\n        console.log(resp);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    convertDateToLong: function convertDateToLong(date) {\n      return date.getTime();\n    }\n  }),\n  mounted: function mounted() {\n    this.init();\n  }\n};",{"version":3,"sources":["/Users/sumansaurav/Desktop/bhaikacms/UI/src/views/js/audit.js"],"names":["mapActions","mapGetters","name","computed","data","page","startDate","endDate","pageNumber","pageSize","userId","sortBy","sortOrder","prevSort","currentPage","report","methods","init","$session","get","$router","push","getAllAudits","changeDate","date","d","Date","toDateString","getHours","getMinutes","getSeconds","prvPage","size","nextPage","allAudits","last","sort","value","renderPage","handleExport","convertDateToLong","getReport","then","resp","console","log","catch","err","getTime","mounted"],"mappings":"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","sourcesContent":["import { mapActions, mapGetters } from 'vuex'\nexport default {\n    name:'Audit',\n    computed: {\n        ...mapGetters([\n            'allAudits'\n        ])\n    },\n    data() {\n        return {\n            page : {\n                startDate:null,\n                endDate:null,\n                pageNumber:0,\n                pageSize:5,\n                userId:null,\n                sortBy:null,\n                sortOrder:1\n            },\n            prevSort:null,\n            currentPage:1,\n            startDate:\"\",\n            endDate:\"\",\n            report: {\n                startDate:\"\",\n                endDate:\"\"\n            }\n        \n        }\n    },\n    methods: {\n        ...mapActions([\n            'getAllAudits',\n            'getReport'\n        ]),\n        init() {\n            if(this.$session.get('roleId') === 0) {\n                this.$router.push('/')\n            }\n            this.getAllAudits(this.page)\n        },\n        changeDate(date) {\n            let d = new Date(date) \n            return d.toDateString()+\", \"+d.getHours()+\":\"+d.getMinutes()+\":\"+d.getSeconds();\n        },\n        prvPage() {\n            if(this.page.pageNumber != 0 ) {\n                this.page.pageNumber = this.page.pageNumber-1\n                if(this.currentPage!=0)\n                    this.currentPage = this.currentPage-1\n                this.page.size=5\n                this.getAllAudits(this.page)\n            }\n        },\n        nextPage() {\n            if(!this.allAudits.last) {\n                this.page.pageNumber = this.page.pageNumber+1\n                this.currentPage = this.currentPage+1\n                this.page.size=5\n                this.getAllAudits(this.page)\n            }\n        },\n        sort(value){\n            if(this.prevSort==value){\n                this.page.sortOrder=this.page.sortOrder==0?1:0;\n            }else{\n                this.page.sortBy=value;\n                this.page.sortOrder=1;\n            }\n            this.prevSort=value;\n            this.getAllAudits(this.page);\n        },\n        renderPage() {\n            this.page.pageNumber = this.currentPage-1\n            this.getAllAudits(this.page);\n        },\n        handleExport() {\n            this.startDate = this.convertDateToLong(new Date(this.startDate))\n            this.endDate = this.convertDateToLong(new Date(this.endDate))\n            //\n            this.report.startDate=this.startDate\n            this.report.endDate=this.endDate\n\n            this.getReport(this.report).then( (resp) => {\n                console.log(resp)\n            }).catch( (err) =>  {\n                console.log(err)\n            })\n        },\n        convertDateToLong(date) {\n            return date.getTime()\n        },\n    },\n    mounted() {\n        this.init()\n    }\n    \n}\n"]}]}