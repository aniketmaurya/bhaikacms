{"remainingRequest":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/babel-loader/lib/index.js!/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/eslint-loader/index.js??ref--13-0!/Users/sumansaurav/Desktop/bhaikacms/UI/src/views/js/userList.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/src/views/js/userList.js","mtime":1565158876967},{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/sumansaurav/Desktop/bhaikacms/UI/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: 'UserList',\n  data: function data() {\n    return {\n      page: {\n        pageNumber: 0,\n        pageSize: 10,\n        sortBy: \"\",\n        order: 0,\n        searchText: \"\"\n      },\n      deleteData: {\n        idDelete: \"\",\n        id: \"\"\n      },\n      currentPage: 1,\n      tempValue: null,\n      editing: false\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['userList', 'userListEdit'])),\n  methods: _objectSpread({}, mapActions(['getUserList', 'deleteUser', 'searchUser']), {\n    init: function init() {\n      if (this.$session.get('roleId') === 0) {\n        this.$router.push('/');\n      }\n\n      this.page.pageNumber = this.$route.params.number;\n      this.getUserList(this.page);\n    },\n    toggleRoleName: function toggleRoleName(roleId) {\n      var roleName = '';\n      roleId === 0 ? roleName = 'Admin' : roleName = 'User';\n      return roleName;\n    },\n    toggleRoleId: function toggleRoleId(id) {\n      var roleId = 0;\n      id === 0 ? roleId = 1 : 0;\n      return roleId;\n    },\n    chanegRoleName: function chanegRoleName(roleId) {\n      if (roleId === 0) return \"User\";else return \"Admin\";\n    },\n    checkToggleValue: function checkToggleValue(event) {\n      // check select change\n      console.log('event', event.target);\n    },\n    changeIsActive: function changeIsActive(isActive) {\n      if (isActive) return \"Active\";else return \"Not active\";\n    },\n    nextPage: function nextPage() {\n      if (this.page.pageNumber < this.userList.totalPages - 1) {\n        this.page.pageNumber = this.page.pageNumber + 1;\n        this.currentPage = this.currentPage + 1;\n        this.page.pageSize = 10; //this.$router.push('/userList/'+this.page.pageNumber)\n\n        this.getUserList(this.page);\n      }\n    },\n    prvPage: function prvPage() {\n      if (this.page.pageNumber != 0) {\n        this.page.pageNumber = this.page.pageNumber - 1;\n        if (this.currentPage != 0) this.currentPage = this.currentPage - 1;\n        this.page.pageSize = 10;\n        this.getUserList(this.page);\n      }\n    },\n    handleDelete: function handleDelete(id) {\n      var _this = this;\n\n      this.$swal({\n        title: \"Are you sure?\",\n        text: \"\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(function (willDelete) {\n        if (willDelete) {\n          _this.deleteData.idDelete = id;\n          _this.deleteData.id = _this.$session.get('userId');\n          console.log(_this.deleteData);\n\n          _this.deleteUser(_this.deleteData).then(function (resp) {\n            if (resp.deleted) {\n              _this.$swal(resp.message);\n\n              _this.getUserList(_this.page);\n            } else {\n              _this.$swal('Not able to delete');\n            }\n          }).catch(function (err) {\n            console.log(err);\n          });\n        } else {\n          _this.$swal(\"Not deleted\");\n        }\n      });\n    },\n    handleActivate: function handleActivate(id) {\n      var _this2 = this;\n\n      this.deleteData.idDelete = id;\n      this.deleteData.id = this.$session.get('userId');\n      this.deleteUser(this.deleteData).then(function (resp) {\n        if (resp.deleted) {\n          console.log(resp);\n\n          _this2.$swal(resp.message);\n\n          _this2.getUserList(_this2.page);\n        } else {\n          _this2.$swal('Not able to activate');\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    search: function search() {\n      this.searchUser;\n    },\n    enableEditing: function enableEditing(value) {\n      this.tempValue = value;\n      this.editing = true;\n    },\n    disableEditing: function disableEditing() {\n      this.tempValue = null;\n      this.editing = false;\n    },\n    saveEdit: function saveEdit() {\n      this.value = this.tempValue;\n      this.disableEditing(); //function call to save the details\n    },\n    sort: function sort(name) {\n      this.page.sortBy = name;\n      if (this.page.order == 0) this.page.order = 1;else this.page.order = 0;\n      this.getUserList(this.page);\n    },\n    handleSubmit: function handleSubmit() {\n      this.searchUser(this.page);\n    },\n    renderPage: function renderPage() {\n      this.page.pageNumber = this.currentPage - 1;\n      this.getUserList(this.page);\n    }\n  }),\n  mounted: function mounted() {\n    this.init();\n  }\n};",{"version":3,"sources":["/Users/sumansaurav/Desktop/bhaikacms/UI/src/views/js/userList.js"],"names":["mapGetters","mapActions","name","data","page","pageNumber","pageSize","sortBy","order","searchText","deleteData","idDelete","id","currentPage","tempValue","editing","computed","methods","init","$session","get","$router","push","$route","params","number","getUserList","toggleRoleName","roleId","roleName","toggleRoleId","chanegRoleName","checkToggleValue","event","console","log","target","changeIsActive","isActive","nextPage","userList","totalPages","prvPage","handleDelete","$swal","title","text","icon","buttons","dangerMode","then","willDelete","deleteUser","resp","deleted","message","catch","err","handleActivate","search","searchUser","enableEditing","value","disableEditing","saveEdit","sort","handleSubmit","renderPage","mounted"],"mappings":"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","sourcesContent":["import { mapGetters, mapActions } from 'vuex';\n\nexport default {\n    name:'UserList',\n    data() {\n        return {\n            page: {\n                pageNumber:0,\n                pageSize:10,\n                sortBy:\"\",\n                order:0,\n                searchText:\"\"\n            },\n            deleteData : {\n                idDelete:\"\",\n                id:\"\"\n            },\n            currentPage:1,\n            tempValue: null,\n            editing: false,\n        }\n    },\n    computed: {\n        ...mapGetters([\n            'userList',\n            'userListEdit'\n        ])\n    },\n    methods: {\n        ...mapActions([\n            'getUserList',\n            'deleteUser',\n            'searchUser'\n        ]),\n        init() {\n            if(this.$session.get('roleId') === 0) {\n                this.$router.push('/')\n            }\n            this.page.pageNumber = this.$route.params.number\n            this.getUserList(this.page)\n        },\n        toggleRoleName (roleId) {\n            let roleName = ''\n            roleId === 0 ? roleName = 'Admin' : roleName = 'User'\n            return roleName\n        },\n        toggleRoleId (id) {\n            let roleId = 0\n            id === 0 ? roleId = 1 : 0\n            return roleId\n        },\n        chanegRoleName(roleId) {\n            if (roleId === 0)\n               return \"User\"\n            else\n               return \"Admin\"\n        },\n        checkToggleValue(event) {\n            // check select change\n            console.log('event', event.target)\n        }, \n        changeIsActive(isActive) {\n            if(isActive)\n                return \"Active\"\n            else\n                return \"Not active\"\n        },\n        nextPage() {\n            if(this.page.pageNumber < this.userList.totalPages-1)\n            {\n                this.page.pageNumber = this.page.pageNumber+1\n                this.currentPage = this.currentPage+1\n                this.page.pageSize = 10\n                //this.$router.push('/userList/'+this.page.pageNumber)\n                this.getUserList(this.page)\n            }\n        },\n        prvPage() {\n            if (this.page.pageNumber!=0) {\n                this.page.pageNumber = this.page.pageNumber-1\n                if(this.currentPage!=0)\n                    this.currentPage = this.currentPage-1\n                this.page.pageSize = 10\n                this.getUserList(this.page)\n            }\n        },\n        handleDelete(id) {\n            this.$swal({\n                title: \"Are you sure?\",\n                text: \"\",\n                icon: \"warning\",\n                buttons: true,\n                dangerMode: true,\n              }).then((willDelete) => {\n                if (willDelete) {\n                    this.deleteData.idDelete = id\n                    this.deleteData.id = this.$session.get('userId')\n                    console.log(this.deleteData)\n                    this.deleteUser(this.deleteData).then( (resp) => {\n                    if(resp.deleted) {\n                        this.$swal(resp.message)\n                        this.getUserList(this.page)\n                    } else {\n                        this.$swal('Not able to delete')\n                    }\n                    }).catch( (err) => {\n                        console.log(err)\n                    })\n                } else {\n                  this.$swal(\"Not deleted\");\n                }\n              })\n        },\n        handleActivate(id) {\n            this.deleteData.idDelete = id\n            this.deleteData.id = this.$session.get('userId')\n            this.deleteUser(this.deleteData).then( (resp) => {\n            if(resp.deleted) {\n                console.log(resp)\n                this.$swal(resp.message)\n                this.getUserList(this.page)\n            } else {\n                this.$swal('Not able to activate')\n            }\n            }).catch( (err) => {\n                console.log(err)\n            })\n        },\n        search() {\n            this.searchUser\n\n        },\n        enableEditing: function(value) {\n            this.tempValue = value;\n            this.editing = true;\n        },\n        disableEditing: function() {\n            this.tempValue = null;\n            this.editing = false;\n        },\n        saveEdit: function() {\n            \n            this.value = this.tempValue;\n            this.disableEditing();\n            //function call to save the details\n        },\n        sort(name) {\n            this.page.sortBy = name\n            if(this.page.order==0)\n               this.page.order=1\n            else\n               this.page.order=0\n            this.getUserList(this.page)\n        },\n        handleSubmit() {\n            this.searchUser(this.page)\n        },\n        renderPage() {\n            this.page.pageNumber = this.currentPage-1\n            this.getUserList(this.page);\n        }\n\n    },\n    mounted() {\n        this.init()\n    }\n}\n"]}]}